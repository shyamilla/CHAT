<div class="p-4 max-w-3xl mx-auto">
  <h2 class="text-xl font-bold mb-4">Chats</h2>

  <!-- Search Users -->
  <form [formGroup]="searchForm" class="mb-4">
    <input
      type="text"
      formControlName="query"
      placeholder="🔍 Search users to chat..."
      class="w-full border rounded-lg p-2"
    />
  </form>

  <!-- Search Results -->
  <div *ngIf="users.length > 0" class="mb-4 bg-gray-100 rounded-lg p-2">
    <p class="font-semibold mb-2">Start a new chat:</p>
    <ul>
      <li
      
        *ngFor="let user of users"
        (click)="startDirectChat(user.username)"
        class="p-2 hover:bg-gray-200 cursor-pointer rounded"
      >
        {{ user.username }}
      </li>
    </ul>
  </div>

  <!-- Chat List -->
  <div *ngIf="chats.length > 0; else noChats">
    <p class="font-semibold mb-2">Your Chats</p>
    <ul>
      <li
        *ngFor="let chat of chats"
        (click)="openChat(chat.id)"
        class="p-3 border-b cursor-pointer hover:bg-gray-50"
      >
        💬 {{ chat.name }}
      </li>
    </ul>
  </div>

  <ng-template #noChats>
    <div class="text-center text-gray-600">
      <p>No chats yet.</p>
      <button
        class="bg-blue-500 text-white px-4 py-2 rounded mt-3"
        (click)="createGroupManual()"
      >
        ➕ Create Group
      </button>
    </div>
  </ng-template>
</div>
