<div class="chat-container">
  <h2 class="chat-title">Chats</h2>

  <!-- Search Users -->
  <form [formGroup]="searchForm" class="search-section">
    <input
      type="text"
      formControlName="query"
      placeholder="🔍 Search users to chat..."
      class="search-input"
    />

    <!-- Always visible Create Group button -->
    <button type="button" class="create-group-btn" (click)="createGroupManual()">
      ➕ Create Group
    </button>
  </form>

  <!-- Search Results -->
  <div *ngIf="users.length > 0" class="search-results">
    <p class="section-title">Start a new chat:</p>
    <ul>
      <li
        *ngFor="let user of users"
        (click)="startDirectChat(user.username)"
        class="user-item"
      >
        {{ user.username }}
      </li>
    </ul>
  </div>

  <!-- Chat List -->
  <div *ngIf="chats.length > 0; else noChats">
    <p class="section-title">Your Chats</p>
    <ul>
      <li
        *ngFor="let chat of chats"
        (click)="openChat(chat.id)"
        class="chat-item"
      >
        💬 {{ chat.name }}
      </li>
    </ul>
  </div>

  <ng-template #noChats>
    <div class="no-chats">
      <p>No chats yet.</p>
    </div>
  </ng-template>
</div>
