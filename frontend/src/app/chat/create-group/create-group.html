<div class="p-6 max-w-lg mx-auto bg-white shadow-lg rounded-xl mt-10">
  <h2 class="text-2xl font-bold mb-4 text-center">Create Group</h2>

  <form [formGroup]="form" (ngSubmit)="createGroup()">
    <div class="mb-4">
      <label class="block font-semibold mb-2">Group Name</label>
      <input type="text" formControlName="groupName" class="border rounded w-full p-2" placeholder="Enter group name" />
      <div *ngIf="form.get('groupName')?.invalid && form.get('groupName')?.touched" class="text-red-500 text-sm mt-1">
        Group name is required (min 3 chars)
      </div>
    </div>

    <div class="mb-4">
      <label class="block font-semibold mb-2">Select Members</label>
      <div class="max-h-48 overflow-y-auto border rounded p-2">
        <div *ngFor="let user of users">
          <label class="flex items-center gap-2">
            <input type="checkbox" (change)="onMemberToggle(user.username, $event.target.checked)" />
            <span>{{ user.username }}</span>
          </label>
        </div>
      </div>
    </div>

    <button
      type="submit"
      [disabled]="loading"
      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full"
    >
      {{ loading ? 'Creating...' : 'Create Group' }}
    </button>
  </form>

  <p *ngIf="message" class="text-center mt-4 text-green-600">{{ message }}</p>
</div>
