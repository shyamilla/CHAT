<div class="chatroom-container">
  <!-- ðŸ§­ Header -->
  <div class="chatroom-header">
    <h2>ðŸ’¬ Chat Room: {{ roomName }}</h2>
    <span>Hi! <b>{{ username }}</b></span>
  </div>

  <!-- ðŸ’¬ Messages -->
  <div #scrollContainer class="chatroom-messages">
    <div *ngIf="loading" class="loading">Loading messages...</div>

    <div *ngIf="!loading && messages.length === 0" class="no-messages">
      No messages yet. Start the conversation ðŸ‘‹
    </div>

    <div
      *ngFor="let msg of messages"
      [ngClass]="{
        'message-sent': msg.senderUsername === username,
        'message-received': msg.senderUsername !== username
      }"
    >
      <div class="message-bubble">
        <div class="message-text">{{ msg.content }}</div>
        <div class="message-meta">
          <span *ngIf="msg.senderUsername !== username">{{ msg.senderUsername }}</span>
          â€¢ {{ msg.timestamp | date: 'shortTime' }}
        </div>
      </div>
    </div>
  </div>

  <!-- ðŸ“¨ Input -->
  <form [formGroup]="messageForm" (ngSubmit)="sendMessage()" class="chatroom-input">
    <input
      type="text"
      formControlName="content"
      placeholder="Type a message..."
    />
    <button type="submit" [disabled]="messageForm.invalid">Send</button>
  </form>
</div>
